function init_menu(){const t=$(".js_header_catalog_toggle"),e=$(".js_header_menu_toggle"),o=$(".header-catalog"),n=$(".header__mobile-menu"),i=$(".header-catalog__btn"),s=$(".js_mobile_menu_close");function a(t){$(t.target).closest(".header-catalog").length||$(t.target).is(".header-catalog")||$(t.target).closest(".js_header_catalog_toggle").length||$(t.target).is(".js_header_catalog_toggle")||(o.removeClass("open"),$(".bar").removeClass("animate"),$(document).off("click",a))}t.on("click",function(){$(".bar").toggleClass("animate"),o.toggleClass("open"),$(document).on("click",a)}),e.on("click",function(){n.toggleClass("open")}),s.on("click",function(){$(".bar").removeClass("animate"),$(this).parent().removeClass("open"),$(document).off("click",a)}),1024<=$(window).width()&&i.on("click",function(){const t=$(this);t.hasClass("active")||($(".header-catalog__submenu.open").removeClass("open"),$(".header-catalog__btn.active").removeClass("active"),t.addClass("active"),t.closest("li").find(".header-catalog__submenu").addClass("open"))})}function init_carousel(){$(".js_banner_slider").owlCarousel({loop:!0,items:1,responsive:{0:{dots:!1},1024:{dots:!0}}}),$(window).width()<1440&&$(".js_cat_filter_carousel").owlCarousel({loop:!1,items:"auto",autoWidth:!0});const i=$(".product .js_img_carousel");if(i.length){$(".js_img_carousel").owlCarousel({slideBy:1,responsive:{0:{items:1,dots:!0,nav:!1},1024:{items:3,dots:!1,nav:!0,navText:['<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.99995 12C6.99985 12.0985 7.01921 12.196 7.05692 12.287C7.09464 12.378 7.14995 12.4606 7.2197 12.5302L14.7197 20.0302C15.0128 20.3233 15.4873 20.3233 15.7802 20.0302C16.0731 19.7371 16.0733 19.2626 15.7802 18.9697L8.81045 12L15.7802 5.0302C16.0733 4.73714 16.0733 4.26258 15.7802 3.9697C15.4871 3.67683 15.0126 3.67664 14.7197 3.9697L7.2197 11.4697C7.14995 11.5393 7.09464 11.6219 7.05692 11.7129C7.01921 11.8039 6.99985 11.9015 6.99995 12Z" fill="black"/></svg>','<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 12C18.0001 12.0985 17.9808 12.196 17.9431 12.287C17.9054 12.378 17.85 12.4606 17.7803 12.5302L10.2803 20.0302C9.98723 20.3233 9.51267 20.3233 9.2198 20.0302C8.92692 19.7371 8.92673 19.2626 9.2198 18.9697L16.1895 12L9.2198 5.0302C8.92673 4.73714 8.92673 4.26258 9.2198 3.9697C9.51286 3.67683 9.98742 3.67664 10.2803 3.9697L17.7803 11.4697C17.85 11.5393 17.9054 11.6219 17.9431 11.7129C17.9808 11.8039 18.0001 11.9015 18 12Z" fill="black"/></svg>'],autoWidth:!0},1440:{items:4,dots:!1,nav:!0,navText:['<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.99995 12C6.99985 12.0985 7.01921 12.196 7.05692 12.287C7.09464 12.378 7.14995 12.4606 7.2197 12.5302L14.7197 20.0302C15.0128 20.3233 15.4873 20.3233 15.7802 20.0302C16.0731 19.7371 16.0733 19.2626 15.7802 18.9697L8.81045 12L15.7802 5.0302C16.0733 4.73714 16.0733 4.26258 15.7802 3.9697C15.4871 3.67683 15.0126 3.67664 14.7197 3.9697L7.2197 11.4697C7.14995 11.5393 7.09464 11.6219 7.05692 11.7129C7.01921 11.8039 6.99985 11.9015 6.99995 12Z" fill="black"/></svg>','<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 12C18.0001 12.0985 17.9808 12.196 17.9431 12.287C17.9054 12.378 17.85 12.4606 17.7803 12.5302L10.2803 20.0302C9.98723 20.3233 9.51267 20.3233 9.2198 20.0302C8.92692 19.7371 8.92673 19.2626 9.2198 18.9697L16.1895 12L9.2198 5.0302C8.92673 4.73714 8.92673 4.26258 9.2198 3.9697C9.51286 3.67683 9.98742 3.67664 10.2803 3.9697L17.7803 11.4697C17.85 11.5393 17.9054 11.6219 17.9431 11.7129C17.9808 11.8039 18.0001 11.9015 18 12Z" fill="black"/></svg>'],autoWidth:!0}}});const t=i.find(".item");t.on("click",function(){const t=$(this),e=t.find("img"),o=e.attr("src"),n=$(".product__big-img img");i.find(".owl-item.current").removeClass("current"),t.closest(".owl-item").addClass("current"),n.attr("src",o)})}}function init_articles_short_desc(){const t=$(".articles__short-desc, .news__short-desc");if(!t.length)return!1;t.each(function(){const t=$(this),e=t.css("line-height"),o=e.substring(0,e.indexOf("px"));height=t.height(),lines=Math.floor(height/o),t.attr("style",`-webkit-line-clamp: ${lines};`)})}function init_sticky_elements(){function t(r,d){var u=null,_=null,h=0,f=24;function t(){var t=r.getBoundingClientRect(),e=d.getBoundingClientRect().bottom;if(t.bottom<e){if(null==u){for(var o=getComputedStyle(r,""),n="",i=0;i<o.length;i++)0!=o[i].indexOf("overflow")&&0!=o[i].indexOf("padding")&&0!=o[i].indexOf("border")&&0!=o[i].indexOf("outline")&&0!=o[i].indexOf("box-shadow")&&0!=o[i].indexOf("background")||(n+=o[i]+": "+o.getPropertyValue(o[i])+"; ");(u=document.createElement("div")).className="stop",u.style.cssText=n+" box-sizing: border-box; width: "+r.offsetWidth+"px;",r.insertBefore(u,r.firstChild);for(var s=r.childNodes.length,i=1;i<s;i++)u.appendChild(r.childNodes[1]);r.style.height=u.getBoundingClientRect().height+"px",r.style.padding="0",r.style.border="0"}var a=u.getBoundingClientRect(),c=t.top+a.height,l=document.documentElement.clientHeight,e=Math.round(c-e),c=Math.round(c-l);a.height>l?(t.top<_?e<c+24?a.bottom-l+24<=0?(u.className="sticky",u.style.top=l-a.height-24+"px",u.style.bottom="",h=24+t.top+a.height-l):(u.className="stop",u.style.top=-h+"px"):(u.className="stop",u.style.top="",u.style.bottom="0",h=e):t.top-f<0?0<=a.top-f?(u.className="sticky",u.style.top="24px",u.style.bottom="",h=t.top-f):(u.className="stop",u.style.top="",u.style.bottom="0"):(u.className="",u.style.top="",h=0),_=t.top):t.top-f<=0?t.top-f<=e?(u.className="stop",u.style.top="",u.style.bottom="0"):(u.className="sticky",u.style.top="24px",u.style.bottom=""):(u.className="",u.style.top=""),window.addEventListener("resize",function(){r.children[0].style.width=getComputedStyle(r,"").width},!1)}}window.addEventListener("scroll",t,!1),document.body.addEventListener("scroll",t,!1)}$(".catalog__aside").length&&t(document.querySelector(".catalog__fixed"),document.querySelector(".catalog__section")),$(".js_cart_base").length&&1024<=$(window).width()&&t(document.querySelector(".cart__fixed"),document.querySelector(".js_cart_base")),$(".product__wrapper").length&&(1440<=$(window).width()?t(document.querySelector(".product__info-block"),document.querySelector(".product__wrapper")):1024<=$(window).width()&&t(document.querySelector(".product__images"),document.querySelector(".product__info-block")))}function init_search(){const t=$(".header__search"),e=t.find(".header__search-input"),o=t.find(".header__search-close"),n=t.find(".header__search-result");function i(t){$(t.target).closest(".header__search").length||$(t.target).is(".header__search")||$(t.target).closest(".header__search-result").length||$(t.target).is(".header__search-result")||(n.removeClass("open"),o.removeClass("open"),$(".header__wrapper--bottom").removeClass("search-open"),$(document).off("click",i))}e.on("focus",function(){n.addClass("open"),o.addClass("open"),$(".header__wrapper--bottom").addClass("search-open"),$(document).on("click",i)}),o.on("click",function(){n.removeClass("open"),o.removeClass("open"),$(".header__wrapper--bottom").removeClass("search-open")})}function init_qty(){const t=$(".qty");if(!t.length)return!1;t.each(function(){const t=$(this),e=t.find(".qty__btn--decrement"),o=t.find(".qty__text"),n=o.find("span"),i=t.data("max")?t.data("max"):-1,s=t.find(".qty__btn--increment");let a=parseInt(n.text());function c(){a<=1?(n.text(1),a=1,e.prop("disabled",!0)):a>=i&&-1!=i?(n.text(i),a=i,s.prop("disabled",!0)):(n.text(a),e.prop("disabled",!1),s.prop("disabled",!1))}c(),e.on("click",function(t){t.preventDefault(),a--,c()}),s.on("click",function(t){t.preventDefault(),a++,c()})});const e=$(".js_add2cart");if(!e.length)return!1;e.each(function(){const e=$(this),t=e.children("button");t.on("click",function(t){t.preventDefault(),e.addClass("added")})})}function init_price_card(){const o=$(".js_price_card_fixed");if(!o.length)return!1;$(document).on("scroll",function(){const t=$(".js_price_card_static"),e=t[0].getBoundingClientRect();e.bottom<=16?o.addClass("show"):o.removeClass("show")})}function init_form_groups(){const t=$(".form-group");if(!t.length)return!1;t.each(function(){const t=$(this);$input=$(this).find("label + input, label + textarea"),$input.on("focus",function(){t.addClass("open focus")}),$input.on("blur",function(){t.removeClass("focus"),""==$(this).val()&&t.removeClass("open")}),""!=$input.val()&&t.addClass("open")});const e=t.find("textarea");e.on("input",function(){this.style.height=0,this.style.height=this.scrollHeight+"px",""==$(this).val()&&(this.style.height="")})}function init_order_form(){const e=$(".checkout__form");if(!e.length)return!1;$(".js_card_number").on("keydown",function(t){$(this).mask("0000 0000 0000 0000")}),$(".js_card_expiry_date").on("keydown",function(t){$(this).mask("00/00")}),$(".js_card_cvc").on("keydown",function(t){$(this).mask("000")}),$(".cart__buy").on("click",function(t){t.preventDefault(),e.submit()})}function init_tabs(){$(".js_tabs").tabs({classes:{"ui-tabs-active":"active","ui-tabs-panel":"tabs__item"}})}function init_account_form(){const t=$(".account__form");if(!t.length)return!1;const o=t.find(".account__input"),n=t.find(".account__submit"),i=t.find(".account__reset");o.on("keyup change",function(){var t=o.filter('[name="change-name"]').val(),e=o.filter('[name="change-email"]').val();t||e?(n.addClass("show"),i.addClass("show")):(n.removeClass("show"),i.removeClass("show"))}),i.on("click",function(){n.removeClass("show"),i.removeClass("show")})}function init_copy_to_clipboard(){const t=$(".js_copy");if(!t.length)return!1;t.on("click",function(t){t.preventDefault();t=$(this).prev(".js_for_copy").text();const e=$("<textarea>");$("body").append(e),e.val(t).select(),document.execCommand("copy"),e.remove()})}function init_allow_cookie(){const t=$(".js_allow_cookie");t.on("click",function(t){t.preventDefault(),$(".cookie").remove()})}function init_modals(){const t=$(".js_modal_open"),e=$(".js_modal_close");t.on("click",function(t){t.preventDefault();const e=$($(this).attr("href"));$(".modal.open").removeClass("open"),e.addClass("open"),$("body").addClass("modal_open")}),e.on("click",function(t){t.preventDefault();const e=$(this).closest(".modal");e.removeClass("open"),$("body").removeClass("modal_open")})}function init_auth_confirm(){const t=$("#auth-confirm-form"),e=t.find(".modal__input");e.on("keydown",function(t){$(this).mask("0")}),e.on("keyup",function(){var t=$(this).val().length,e=parseInt($(this).attr("tabindex")),o=e-1;0<t?$("[tabindex="+(e+1)+"]").trigger("focus"):0==t&&0!=o&&$("[tabindex="+o+"]").trigger("focus")})}function init_add_testimonial(){const t=$(".testimonials__add-block");if(!t.length)return!1;const e=t.find(".testimonials__form"),o=t.find(".testimonials__success"),n=e.find(".testimonials__submit"),i=o.find(".testimonials__close");n.on("click",function(t){t.preventDefault(),e.removeClass("open"),o.addClass("open")}),i.on("click",function(t){t.preventDefault(),o.removeClass("open")})}function init_contact_form(){const t=$(".contact_form");if(!t.length)return!1;$('input[name="phone"]').on("keydown",function(t){""==$(this).val()&&"8"==t.originalEvent.key&&(t.preventDefault(),$(this).val("+7 ")),$(this).mask("+7 000 000-00-00")}),t.each(function(){const t=$(this);t.validate({rules:{name:"required",email:{required:!0,email:!0},phone:"required","card-number":"required","card-expiry-date":"required",cvc:"required","callback-message":"required"},messages:{name:"Введите ваше имя",email:{required:"Введите адрес электронной почты",email:"Введите почту, в формате х@x.xx"},phone:"Введите ваш телефон","card-number":"Введите номер карты","card-expiry-date":"Введите срок действия карты",cvc:"Введите CVV/CVC код","callback-message":"Введите комментарий"},submitHandler:function(t){t.submit()}})})}function init_favorite(){const t=$(".js_favorite");if(!t.length)return!1;t.on("click",function(t){t.preventDefault(),$(this).toggleClass("active")})}function init_order(){function e(t){$(t.target).closest(".js_city_form_group").length||$(t.target).is(".js_city_form_group")||$(t.target).closest(".checkout__search-result").length||$(t.target).is(".checkout__search-result")||($(".checkout__search-result").removeClass("open"),$(document).off("click",e))}$(".js_city_form_group .checkout__input").on("focus",function(){$(".checkout__search-result").addClass("open"),$(document).on("click",e)}),$(".js_city_form_group .search-result__link").on("click",function(t){t.preventDefault(),$(".js_hidden").removeClass("hidden"),$(".checkout__search-result").removeClass("open")});const o=$("[data-payment]");o.on("click",function(t){t.preventDefault(),o.removeClass("active"),$(this).addClass("active")})}function init_callback_form(){const t=$("#callback-modal-form");t.on("submit",function(t){t.preventDefault(),$("#callback-modal").removeClass("open"),$("#callback-success-modal").addClass("open")})}$(document).ready(function(){init_menu(),init_carousel(),init_sticky_elements(),init_search(),init_qty(),init_price_card(),init_form_groups(),init_order_form(),init_tabs(),init_account_form(),init_copy_to_clipboard(),init_allow_cookie(),init_modals(),init_auth_confirm(),init_add_testimonial(),init_contact_form(),init_favorite(),init_order(),init_callback_form()}),$(window).on("load",function(){init_articles_short_desc()});
//# sourceMappingURL=script.min.js.map
